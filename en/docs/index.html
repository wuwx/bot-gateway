<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started | Little Daemon Bot Gateway (LDBG)</title>
    <meta name="description" content="The one and only one Bot API you need!">
    
    
    <link rel="preload" href="/bot-gateway/assets/css/0.styles.4687edb2.css" as="style"><link rel="preload" href="/bot-gateway/assets/js/app.900ac474.js" as="script"><link rel="preload" href="/bot-gateway/assets/js/18.e5dee16c.js" as="script"><link rel="prefetch" href="/bot-gateway/assets/js/9.dd3a7cc7.js"><link rel="prefetch" href="/bot-gateway/assets/js/2.90a804d4.js"><link rel="prefetch" href="/bot-gateway/assets/js/3.1279c11a.js"><link rel="prefetch" href="/bot-gateway/assets/js/4.719dc71a.js"><link rel="prefetch" href="/bot-gateway/assets/js/5.0c78257c.js"><link rel="prefetch" href="/bot-gateway/assets/js/6.60bce6ec.js"><link rel="prefetch" href="/bot-gateway/assets/js/7.af2f01a0.js"><link rel="prefetch" href="/bot-gateway/assets/js/8.2228df14.js"><link rel="prefetch" href="/bot-gateway/assets/js/10.14637feb.js"><link rel="prefetch" href="/bot-gateway/assets/js/11.e05dbfe7.js"><link rel="prefetch" href="/bot-gateway/assets/js/12.8c52734f.js"><link rel="prefetch" href="/bot-gateway/assets/js/13.ce40051d.js"><link rel="prefetch" href="/bot-gateway/assets/js/14.2f50af7c.js"><link rel="prefetch" href="/bot-gateway/assets/js/15.4dc43465.js"><link rel="prefetch" href="/bot-gateway/assets/js/16.10919c3c.js"><link rel="prefetch" href="/bot-gateway/assets/js/17.2d88c6fe.js"><link rel="prefetch" href="/bot-gateway/assets/js/19.680eefac.js">
    <link rel="stylesheet" href="/bot-gateway/assets/css/0.styles.4687edb2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bot-gateway/en/" class="home-link router-link-active"><!----> <span class="site-name">Little Daemon Bot Gateway (LDBG)</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bot-gateway/docs/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/bot-gateway/en/docs/" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/projectriri/bot-gateway" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bot-gateway/docs/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/bot-gateway/en/docs/" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/projectriri/bot-gateway" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/bot-gateway/en/ChangeLog.html" class="sidebar-link">Change Log</a></li><li><a href="/bot-gateway/en/docs/" class="active sidebar-link">Getting Started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#comparision-with-other-solutions" class="sidebar-link">Comparision with Other Solutions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#bot-sdk" class="sidebar-link">Bot-SDK</a></li><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#telegram-bot-gateway" class="sidebar-link">Telegram Bot Gateway</a></li></ul></li><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#install" class="sidebar-link">Install</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#download-binary-file" class="sidebar-link">Download Binary File</a></li><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#build-from-source" class="sidebar-link">Build from Source</a></li></ul></li><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#configuration" class="sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#root-configuration" class="sidebar-link">Root Configuration</a></li><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#plugin-configurations" class="sidebar-link">Plugin Configurations</a></li></ul></li><li class="sidebar-sub-header"><a href="/bot-gateway/en/docs/#list-of-plugins" class="sidebar-link">List of Plugins</a></li></ul></li><li><a href="/bot-gateway/en/docs/Concept.html" class="sidebar-link">核心概念</a></li><li><a href="/bot-gateway/en/docs/Types.html" class="sidebar-link">类型定义</a></li><li><a href="/bot-gateway/en/docs/Plugins.html" class="sidebar-link">插件文档</a></li><li><a href="/bot-gateway/en/docs/Formats.html" class="sidebar-link">格式速查</a></li><li><a href="/bot-gateway/en/docs/Other.html" class="sidebar-link">其他</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="getting-started"><a href="#getting-started" aria-hidden="true" class="header-anchor">#</a> Getting Started</h1> <h2 id="introduction"><a href="#introduction" aria-hidden="true" class="header-anchor">#</a> Introduction</h2> <p>A bot developer, with the use of the Little Daemon Bot Gateway,
will get emancipated from supporting various Instant Messaging platforms
and be able to concentrate on the application,
thanks to the ability of The Little Daemon Bot Gateway
to convert different API of different IM platforms into an unified API.</p> <p>Meanwhile, the Little Daemon Bot Gateway is blessed with a feature that
it can route messages reliably, which means that you may divide your
bot into different parts, written in different kind of languages.
No need to worry about how the programs communicate with each other,
all they need is just connecting to the gateway.</p> <h2 id="comparision-with-other-solutions"><a href="#comparision-with-other-solutions" aria-hidden="true" class="header-anchor">#</a> Comparision with Other Solutions</h2> <h3 id="bot-sdk"><a href="#bot-sdk" aria-hidden="true" class="header-anchor">#</a> <a href="https://github.com/projectriri/bot-sdk" target="_blank" rel="noopener noreferrer">Bot-SDK<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>Bot-SDK is an alternative solution to use one API across many platforms.
Compared with Bot-SDK:</p> <ul><li>Bot-SDK 的接口在 SDK 上层封装，其本身的开发成本相比小恶魔网关更低。</li> <li>Bot-SDK 使用时可以直接调用 SDK 的相关实例和方法，使用起来更方便。</li> <li>要使用 Bot-SDK，用户必须使用 Go 语言开发应用。而小恶魔网关是基于协议的，
用户可以使用任何语言开发。得益于可扩展的插件系统，小恶魔网关能够支持 RPC、HTTP、WebSocket 等多种通信协议。</li> <li>小恶魔网关在允许用户用一套 API 服务多个聊天平台的同时，还有路由功能。
即当你有多个 Bot 应用程序时，他们可以接入网关，使用共同的聊天平台账号。
而使用 Bot-SDK 你要为每个应用分配一组聊天平台账号。同时借助小恶魔网关你也可以实现 Bot 应用程序之间的通信。</li></ul> <h3 id="telegram-bot-gateway"><a href="#telegram-bot-gateway" aria-hidden="true" class="header-anchor">#</a> <a href="https://gitlab.com/FiveYellowMice/telegram-bot-gateway" target="_blank" rel="noopener noreferrer">Telegram Bot Gateway<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>Telegram Bot Gateway 是专门针对 Telegram Bot API 的多个 Bot 使用同一账号的解决方案。
小恶魔网关与 Telegram Bot Gateway 相比：</p> <ul><li>Telegram Bot Gateway 是专门针对 Telegram 多个 Bot 使用同一账号的应用情景设计的：
例如当用户使用的命令多个 Bot 都能够响应时，可以弹出键盘询问用户想要发送给哪个 Bot；
而小恶魔网关虽然具备消息路由功能，却并不是为了让多个互不相关的 Bot 使用同一账号设计的。
小恶魔网关设计上是为了使 Bot 应用程序之间能够紧密联系和配合，共同提供作为 1 个 Bot 的功能。</li> <li>小恶魔网关在消息路由之外还具备同时服务多个聊天平台，以及进行 API 转换的功能。</li> <li>由于 Telegram Bot Gateway 设计上可以作为一个透明代理，小恶魔网关可以在 Telegram Bot Gateway 下运行。</li></ul> <h2 id="install"><a href="#install" aria-hidden="true" class="header-anchor">#</a> Install</h2> <h3 id="download-binary-file"><a href="#download-binary-file" aria-hidden="true" class="header-anchor">#</a> Download Binary File</h3> <ol><li>从 <a href="https://github.com/projectriri/bot-gateway/releases" target="_blank" rel="noopener noreferrer">GitHub Release<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
中下载已经编译好的程序压缩包，解压到任意目录</li> <li>复制 <code>config.toml.example</code> 到 <code>config.toml</code></li> <li>删除 <code>lib</code> 目录中不需要的插件</li> <li>复制 <code>conf.d</code> 目录下所有 <code>*.example</code> 文件到 <code>*</code></li></ol> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>如果你只需要很少的官方插件，你也可以选择分别下载它们，然后将插件放置在
<code>lib</code> 目录下，将插件配置文件放置在 <code>conf.d</code> 目录下</p></div> <h3 id="build-from-source"><a href="#build-from-source" aria-hidden="true" class="header-anchor">#</a> Build from Source</h3> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>请使用 go &gt;= 1.10</p></div> <ol><li>克隆<a href="https://github.com/projectriri/bot-gateway" target="_blank" rel="noopener noreferrer">源码仓库<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>编辑 <code>plugins.txt</code>，加入所有想要的插件，删除不想要的插件</li> <li><code>make</code></li></ol> <h2 id="configuration"><a href="#configuration" aria-hidden="true" class="header-anchor">#</a> Configuration</h2> <h3 id="root-configuration"><a href="#root-configuration" aria-hidden="true" class="header-anchor">#</a> Root Configuration</h3> <p>根配置文件应命名为 <code>config.toml</code> 放置在程序运行目录下。</p> <table><thead><tr><th>配置项名称</th> <th>默认配置文件中的值</th> <th>说明</th></tr></thead> <tbody><tr><td>buffer_size</td> <td>65536</td> <td>缓冲区大小：单个<a href="/bot-gateway/docs/Concept.html#频道">频道</a>消息最大缓存条数，可以根据内存大小修改</td></tr> <tr><td>log_level</td> <td>info</td> <td>日志等级，可选 debug、info、warn、error、fatal</td></tr> <tr><td>plugin_dir</td> <td>lib</td> <td>插件加载的目录</td></tr> <tr><td>plugin_conf_dir</td> <td>conf.d</td> <td>插件配置文件加载的目录</td></tr> <tr><td>enable_little_daemon</td> <td>true</td> <td>是否启用小恶魔</td></tr> <tr><td>little_daemon_name</td> <td>LittleDaemon</td> <td>小恶魔在网关中的适配器名称</td></tr> <tr><td>little_daemon_channel_uuid</td> <td></td> <td>小恶魔用于注册<a href="/bot-gateway/docs/Concept.html#频道">频道</a>的 UUID，可为空</td></tr></tbody></table> <p>“小恶魔”是用来报告网关状态的内置机器人。
如果小恶魔被启用，当网关收到命令 <code>ping</code> 或 <code>status</code> 时，会报告网关当前状态。
启用小恶魔你需要在程序运行目录放置 <code>locale.yml</code>，程序源码中包含一个该文件的<a href="https://github.com/projectriri/bot-gateway/blob/master/locale.yml" target="_blank" rel="noopener noreferrer">示例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>要让小恶魔正常工作你必须启用插件 <a href="/bot-gateway/docs/Plugins.html#commander">commander</a>，并根据需要正确配置命令前缀。</p></div> <h3 id="plugin-configurations"><a href="#plugin-configurations" aria-hidden="true" class="header-anchor">#</a> Plugin Configurations</h3> <p>插件配置文件应命名为“插件文件名.配置扩展名”，放置在 <em>plugin_conf_dir</em> 目录下：
例如某插件 <code>chajian.so</code> 接受格式为 toml 的配置，那么配置将从 <em>plugin_conf_dir</em>
目录下的 <code>chajian.toml</code> 加载。</p> <p>插件配置文件的定义见<a href="/bot-gateway/docs/Plugins.html">插件文档</a>。</p> <h2 id="list-of-plugins"><a href="#list-of-plugins" aria-hidden="true" class="header-anchor">#</a> List of Plugins</h2> <p><strong>客户型</strong>插件表示插件是对外表现为一个客户端，这类插件一启动就向相应的服务器发起连接，
从服务器接收消息，向服务器发送消息。</p> <p><strong>服务型</strong>插件表示插件对外表现为一个服务端，这类插件启动时将启动一个服务程序，
外界程序可以通过连接到这个插件来向网关发送和接收消息。</p> <p><strong>自耦型</strong>插件表示插件不对外通信，它从网关接收消息，处理后直接送回网关。</p> <table><thead><tr><th>插件名</th> <th>类型</th> <th>功能描述</th></tr></thead> <tbody><tr><td><a href="/bot-gateway/docs/Plugins.html#longpolling-client-tgbot">longpolling-client-tgbot</a></td> <td>客户型</td> <td>从 Telegram Bot API 以长轮询形式拉取更新</td></tr> <tr><td><a href="/bot-gateway/docs/Plugins.html#http-client-tgbot">http-client-tgbot</a></td> <td>客户型</td> <td>调用 Telegram Bot API 发送消息</td></tr> <tr><td><a href="/bot-gateway/docs/Plugins.html#websocket-client-cqhttp">websocket-client-cqhttp</a></td> <td>客户型</td> <td>从 CoolQ HTTP API 正向 WebSocket 连接上接收事件上报和 API 调用</td></tr> <tr><td><a href="/bot-gateway/docs/Plugins.html#jsonrpc-server-any">jsonrpc-server-any</a></td> <td>服务型</td> <td>提供 JSON RPC 服务</td></tr> <tr><td><a href="/bot-gateway/docs/Plugins.html#tgbot-ubm-conv">tgbot-ubm-conv</a></td> <td>自耦型</td> <td>将消息在 <a href="/bot-gateway/docs/Formats.html">Telegram-Bot-API</a> 和 <a href="/bot-gateway/docs/Formats.html">UBM-API</a> 两种格式之间转换</td></tr> <tr><td><a href="/bot-gateway/docs/Plugins.html#cqhttp-ubm-conv">cqhttp-ubm-conv</a></td> <td>自耦型</td> <td>将消息在 <a href="/bot-gateway/docs/Formats.html">CoolQ-HTTP-API</a> 和 <a href="/bot-gateway/docs/Formats.html">UBM-API</a> 两种格式之间转换</td></tr> <tr><td><a href="/bot-gateway/docs/Plugins.html#commander">commander</a></td> <td>自耦型</td> <td>命令解析器</td></tr></tbody></table></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/projectriri/bot-gateway/edit/master/en/docs/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/bot-gateway/en/ChangeLog.html" class="prev">
          Change Log
        </a></span> <span class="next"><a href="/bot-gateway/en/docs/Concept.html">
          核心概念
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/bot-gateway/assets/js/18.e5dee16c.js" defer></script><script src="/bot-gateway/assets/js/app.900ac474.js" defer></script>
  </body>
</html>
